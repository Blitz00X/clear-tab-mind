const fs = require('fs');

// Create a very simple PNG file that will definitely work
function createSimplePNG(size) {
  // This is a minimal valid PNG file with a solid color
  const pngData = Buffer.from([
    // PNG signature
    0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A,
    
    // IHDR chunk (13 bytes)
    0x00, 0x00, 0x00, 0x0D, // length
    0x49, 0x48, 0x44, 0x52, // "IHDR"
    0x00, 0x00, 0x00, 0x01, // width: 1
    0x00, 0x00, 0x00, 0x01, // height: 1
    0x08, 0x02, 0x00, 0x00, 0x00, // bit depth, color type, compression, filter, interlace
    0x90, 0x77, 0x53, 0xDE, // CRC
    
    // PLTE chunk (palette)
    0x00, 0x00, 0x00, 0x06, // length
    0x50, 0x4C, 0x54, 0x45, // "PLTE"
    0x66, 0x7E, 0xEA, 0x76, 0x4B, 0xA2, // blue to purple gradient
    0x8F, 0x4D, 0x5A, // CRC
    
    // IDAT chunk
    0x00, 0x00, 0x00, 0x0C, // length
    0x49, 0x44, 0x41, 0x54, // "IDAT"
    0x08, 0x99, 0x01, 0x01, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x02, 0x00, 0x01, // compressed data
    0xE2, 0x21, 0xBC, 0x33, // CRC
    
    // IEND chunk
    0x00, 0x00, 0x00, 0x00, // length
    0x49, 0x45, 0x4E, 0x44, // "IEND"
    0xAE, 0x42, 0x60, 0x82  // CRC
  ]);
  
  return pngData;
}

// Generate icons for all required sizes
const sizes = [16, 32, 48, 128];

console.log('Creating simple PNG icons...');

for (const size of sizes) {
  const pngData = createSimplePNG(size);
  const filename = `icons/icon${size}.png`;
  fs.writeFileSync(filename, pngData);
  console.log(`Created ${filename} (${size}x${size})`);
}

console.log('All icons created successfully!'); 